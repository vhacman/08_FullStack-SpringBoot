<div class="w3-top">
  <div class="navbar-main w3-card-2 w3-row">

    <!-- Logo -->
    <div class="w3-col s2 m2 l2 logo-container">
      <img src="img/logo.png" routerLink="" class="logo-img" alt="SBB Logo" />
    </div>

    <!-- Info utente (destra) -->
    <div class="w3-col s10 m10 l10 nav-right">
      <div class="user-block">

        <div class="hotel-name">
          {{ loggedUser() != null ? loggedUser()!.hotel.name : 'Caricamento...' }}
        </div>

        <div class="user-info" (click)="toggleProfile()">
          <div class="user-details">
            <span class="user-name">{{ userInfo() }}</span>
            <span class="user-role">{{ loggedUser()?.role | titlecase }}</span>
          </div>
          <i class="bi bi-person-circle user-icon"></i>

        </div>

      </div>
    </div>

  </div>
</div>

<div class="nav-spacer"></div>

<!-- Sezione Profilo Utente Popup -->
@if (showProfile()) {
  <div class="profile-popup w3-card-2" (click)="$event.stopPropagation()">
    <div class="profile-header">
      <i class="bi bi-person-circle profile-avatar"></i>
      <div class="profile-info">
        <h3>{{ userInfo() }}</h3>
        <span class="profile-role">{{ loggedUser()?.role | titlecase }}</span>
      </div>
    </div>

    <div class="profile-details">
      <div class="detail-row">
        <span class="detail-label">Hotel:</span>
        <span class="detail-value">{{ loggedUser()?.hotel?.name }}</span>
      </div>
      @if (loggedUser()?.hotel?.address) {
        <div class="detail-row">
          <span class="detail-label">Indirizzo:</span>
          <span class="detail-value">{{ loggedUser()?.hotel?.address }}</span>
        </div>
      }
    </div>

    <div class="profile-actions">
      <button class="btn-modern btn-edit"><i class="bi bi-pencil-square"></i></button>
      <button class="btn-modern btn-logout"><i class="bi bi-box-arrow-right"></i></button>
    </div>
  </div>
}
