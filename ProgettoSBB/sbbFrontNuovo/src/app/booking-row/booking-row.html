<div class="w3-card w3-round w3-margin-bottom w3-hover-shadow card-row">
  <div class="w3-row w3-padding-16">
    <!-- ===== AVATAR: mostra le iniziali dell'ospite in un cerchio ===== -->
    <div class="w3-col m1 s2 w3-center">
      <div class="w3-circle w3-center avatar">
        <!-- charAt(0) prende il primo carattere di firstName e lastName -->
        {{ booking().guest.firstName.charAt(0) }}{{ booking().guest.lastName.charAt(0) }}
      </div>
    </div>
    <!-- ===== DATI OSPITE: nome, codice fiscale, città ===== -->
    <div class="w3-col m4 s10 w3-padding-small">
      <div class="w3-large guest-name">
        {{ booking().guest.firstName }} {{ booking().guest.lastName }}
      </div>
      <div class="w3-text-grey">
        <!-- SSN = Social Security Number, qui usato come codice fiscale -->
        <i class="fa fa-id-card-o w3-margin-right"></i> {{ booking().guest.ssn }}
      </div>
      <div class="w3-small w3-text-grey">
        <i class="fa fa-map-marker w3-margin-right"></i> {{ booking().guest.city }}
      </div>
    </div>
    <!-- ===== DETTAGLI PRENOTAZIONE: camera, check-in, check-out ===== -->
    <div class="w3-col m5 s12 w3-padding-small w3-border-left booking-details-border">
      <div class="w3-text-grey">
        <strong>Camera:</strong> {{ booking().room.name }}
      </div>
      <div class="w3-small w3-text-grey">
        <!-- Il pipe 'date' formatta il timestamp in formato italiano gg/mm/aaaa -->
        <div><i class="fa fa-calendar-plus-o  w3-margin-right"></i> Check-in:  {{ booking().from | date:'dd/MM/yyyy' }}</div>
        <div><i class="fa fa-calendar-minus-o w3-margin-right"></i> Check-out: {{ booking().to   | date:'dd/MM/yyyy' }}</div>
      </div>
    </div>
    <!-- ===== AZIONI: pulsanti contestuali in base allo status della prenotazione ===== -->
    <div class="w3-col m2 s12 w3-right-align w3-padding-small">
      <!--
        LOGICA STATUS:

        'SCHEDULED' → prenotazione confermata, ospite non ancora arrivato
                       → mostrare: [CHECK-IN]  [ANNULLA]

        'EXECUTED' + oggi == booking().to
                       → ospite in partenza oggi
                       → mostrare: [PULIZIE ESEGUITE] (cleaned: false → true)

        'EXECUTED' + oggi > booking().to
                       → check-out già avvenuto
                       → mostrare/aggiornare stato pulizie (campo cleaned)
      -->
    </div>
  </div>
</div>
